<mah:MetroWindow x:Class="FathomOS.Modules.SurveyListing.Views.HelpWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        Title="Help - Fathom OS Survey Listing" 
        Height="700" Width="1000"
        MinHeight="500" MinWidth="800"
        WindowStartupLocation="CenterOwner"
        TitleCharacterCasing="Normal"
        GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
        BorderThickness="1"
        ShowMinButton="False"
        ShowMaxRestoreButton="True"
        ResizeMode="CanResize">
    
    <mah:MetroWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Themes/Dark.Blue.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </mah:MetroWindow.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Left Navigation Panel -->
        <Border Grid.Column="0" Background="#1E1E1E" BorderThickness="0,0,1,0" BorderBrush="#333">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="15">
                    <TextBlock Text="HELP TOPICS" FontWeight="Bold" Foreground="#888" 
                               FontSize="11" Margin="0,0,0,15"/>
                    
                    <RadioButton x:Name="NavOverview" Content="ðŸ“‹ Overview" GroupName="HelpNav" 
                                 IsChecked="True" Checked="NavItem_Checked" Margin="0,0,0,8"
                                 Style="{StaticResource MahApps.Styles.RadioButton}"/>
                    <RadioButton x:Name="NavWizard" Content="ðŸ§™ Wizard Steps" GroupName="HelpNav" 
                                 Checked="NavItem_Checked" Margin="0,0,0,8"/>
                    <RadioButton x:Name="NavEditor" Content="âœï¸ Survey Editor" GroupName="HelpNav" 
                                 Checked="NavItem_Checked" Margin="0,0,0,8"/>
                    <RadioButton x:Name="NavShortcuts" Content="âŒ¨ï¸ Keyboard Shortcuts" GroupName="HelpNav" 
                                 Checked="NavItem_Checked" Margin="0,0,0,8"/>
                    <RadioButton x:Name="NavExport" Content="ðŸ“¤ Export Options" GroupName="HelpNav" 
                                 Checked="NavItem_Checked" Margin="0,0,0,8"/>
                    <RadioButton x:Name="NavTroubleshooting" Content="ðŸ”§ Troubleshooting" GroupName="HelpNav" 
                                 Checked="NavItem_Checked" Margin="0,0,0,8"/>
                </StackPanel>
            </ScrollViewer>
        </Border>
        
        <!-- Right Content Panel -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto" Padding="30">
            <StackPanel x:Name="ContentPanel">
                <!-- Overview Section -->
                <StackPanel x:Name="SectionOverview" Visibility="Visible">
                    <TextBlock Text="Fathom OS Survey Listing Generator" FontSize="28" FontWeight="Light" 
                               Margin="0,0,0,20"/>
                    <TextBlock TextWrapping="Wrap" FontSize="14" LineHeight="24" Margin="0,0,0,20">
                        This wizard guides you through creating professional survey listings from NPD 
                        (Navigation Position Data) files. The process is broken down into 7 easy steps 
                        that take you from raw survey data to formatted exports.
                    </TextBlock>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="Quick Start" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                1. Set up your project details (Step 1)&#x0a;
                                2. Load your route file (.RLX format) (Step 2)&#x0a;
                                3. Add NPD survey data files (Step 3)&#x0a;
                                4. Review and preview the data (Step 4)&#x0a;
                                5. Apply tide corrections if needed (Step 5)&#x0a;
                                6. Configure processing options (Step 6)&#x0a;
                                7. Export to your desired format (Step 7)
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
                
                <!-- Wizard Steps Section -->
                <StackPanel x:Name="SectionWizard" Visibility="Collapsed">
                    <TextBlock Text="Wizard Steps" FontSize="28" FontWeight="Light" Margin="0,0,0,20"/>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Step 1: Project Setup" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" Margin="0,10,0,0">
                                Configure project details including client name, project name, vessel, 
                                and coordinate system. These details appear in exports and reports.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Step 2: Route File" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" Margin="0,10,0,0">
                                Load the route alignment file (.RLX format). This defines the pipeline 
                                or cable route centerline used for KP (Kilometric Point) calculations.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Step 3: Survey Data" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" Margin="0,10,0,0">
                                Add NPD survey data files and configure column mapping. Multiple files 
                                can be loaded and combined. Configure depth and altitude column mappings.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Step 4: Data Review" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" Margin="0,10,0,0">
                                Preview loaded data and verify column mappings are correct. Check data 
                                quality and identify any issues before processing.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Step 5: Tide Corrections" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" Margin="0,10,0,0">
                                Load tide data and apply corrections to depth measurements. Supports 
                                various tide file formats and interpolation methods.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Step 6: Processing" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" Margin="0,10,0,0">
                                Configure KP/DCC calculations, smoothing options, and interval point 
                                generation. Use the Survey Editor for advanced editing and visualization.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Step 7: Output" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" Margin="0,10,0,0">
                                Export processed data to various formats including Excel, CSV, DXF, 
                                and CAD scripts. Configure output columns and formatting options.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
                
                <!-- Editor Section -->
                <StackPanel x:Name="SectionEditor" Visibility="Collapsed">
                    <TextBlock Text="Survey Editor" FontSize="28" FontWeight="Light" Margin="0,0,0,20"/>
                    <TextBlock TextWrapping="Wrap" FontSize="14" LineHeight="24" Margin="0,0,0,20">
                        The Survey Editor provides a powerful 2D canvas for visualizing and editing 
                        survey data. Features include real-time smoothing, point editing, layer 
                        management, and more.
                    </TextBlock>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Tools" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7" Margin="0,0,0,10"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                â€¢ Select (S) - Select and move points&#x0a;
                                â€¢ Pan (P) - Pan the view&#x0a;
                                â€¢ Measure (M) - Measure distances&#x0a;
                                â€¢ Digitize (D) - Add new points
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Layers" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7" Margin="0,0,0,10"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                â€¢ Survey Raw - Original survey data&#x0a;
                                â€¢ Survey Smoothed - Auto-created when smoothing enabled&#x0a;
                                â€¢ Route - Pipeline/cable centerline&#x0a;
                                â€¢ Custom Layers - User-created layers&#x0a;
                                â€¢ Digitized Points - Manually added points
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
                
                <!-- Shortcuts Section -->
                <StackPanel x:Name="SectionShortcuts" Visibility="Collapsed">
                    <TextBlock Text="Keyboard Shortcuts" FontSize="28" FontWeight="Light" Margin="0,0,0,20"/>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="TOOLS" FontWeight="Bold" Foreground="#888" FontSize="11" Margin="0,0,0,10"/>
                                <TextBlock FontSize="13" LineHeight="26">
                                    S - Select tool&#x0a;
                                    P - Pan tool&#x0a;
                                    M - Measure tool&#x0a;
                                    D - Digitize tool
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="VIEW" FontWeight="Bold" Foreground="#888" FontSize="11" Margin="0,0,0,10"/>
                                <TextBlock FontSize="13" LineHeight="26">
                                    F - Fit to extents&#x0a;
                                    Scroll - Zoom in/out&#x0a;
                                    Right-drag - Pan view&#x0a;
                                    H / F1 - Show help
                                </TextBlock>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="SELECTION" FontWeight="Bold" Foreground="#888" FontSize="11" Margin="0,0,0,10"/>
                                <TextBlock FontSize="13" LineHeight="26">
                                    Ctrl+A - Select all&#x0a;
                                    Escape - Clear selection&#x0a;
                                    Delete - Delete selected&#x0a;
                                    Ctrl+Click - Multi-select
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="EDITING" FontWeight="Bold" Foreground="#888" FontSize="11" Margin="0,0,0,10"/>
                                <TextBlock FontSize="13" LineHeight="26">
                                    Ctrl+Z - Undo&#x0a;
                                    Ctrl+Y - Redo&#x0a;
                                    Ctrl+S - Save changes&#x0a;
                                    Arrow keys - Nudge points
                                </TextBlock>
                            </StackPanel>
                        </Grid>
                    </Border>
                </StackPanel>
                
                <!-- Export Section -->
                <StackPanel x:Name="SectionExport" Visibility="Collapsed">
                    <TextBlock Text="Export Options" FontSize="28" FontWeight="Light" Margin="0,0,0,20"/>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Supported Formats" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7" Margin="0,0,0,10"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                â€¢ Excel (.xlsx) - Formatted spreadsheet with headers&#x0a;
                                â€¢ CSV (.csv) - Comma-separated values&#x0a;
                                â€¢ DXF (.dxf) - AutoCAD drawing exchange format&#x0a;
                                â€¢ CAD Script (.scr) - AutoCAD/BricsCAD script commands&#x0a;
                                â€¢ Text (.txt) - Plain text listing
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
                
                <!-- Troubleshooting Section -->
                <StackPanel x:Name="SectionTroubleshooting" Visibility="Collapsed">
                    <TextBlock Text="Troubleshooting" FontSize="28" FontWeight="Light" Margin="0,0,0,20"/>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Common Issues" FontSize="16" FontWeight="SemiBold" Foreground="#FF8A65" Margin="0,0,0,10"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                â€¢ No data showing - Check column mappings in Step 3&#x0a;
                                â€¢ KP values wrong - Verify route file covers survey area&#x0a;
                                â€¢ Depths incorrect - Check tide corrections and depth column&#x0a;
                                â€¢ Export fails - Ensure output folder exists and is writable
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#2D2D2D" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Getting Support" FontSize="16" FontWeight="SemiBold" Foreground="#4FC3F7" Margin="0,0,0,10"/>
                            <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                For additional help, contact Fathom OS support or consult the 
                                full documentation. Include error messages and steps to reproduce 
                                any issues when reporting problems.
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</mah:MetroWindow>
