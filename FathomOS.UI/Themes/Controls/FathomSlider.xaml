<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:FathomOS.UI.Controls">

    <!-- ============================================== -->
    <!-- FathomOS Design System - FathomSlider         -->
    <!-- Owned by: UI-AGENT                            -->
    <!-- DO NOT modify without UI-AGENT approval       -->
    <!-- ============================================== -->

    <!-- Slider Thumb Style -->
    <Style x:Key="FathomSliderThumb" TargetType="{x:Type Thumb}">
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Width" Value="18"/>
        <Setter Property="Height" Value="18"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid>
                        <Ellipse x:Name="Grip"
                                 Fill="{DynamicResource PrimaryBrush}"
                                 Width="{TemplateBinding Width}"
                                 Height="{TemplateBinding Height}">
                            <Ellipse.Effect>
                                <DropShadowEffect ShadowDepth="1"
                                                  BlurRadius="4"
                                                  Opacity="0.3"
                                                  Direction="270"/>
                            </Ellipse.Effect>
                        </Ellipse>
                        <Ellipse x:Name="InnerCircle"
                                 Fill="White"
                                 Width="6"
                                 Height="6"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Grip" Property="Fill" Value="{DynamicResource PrimaryHoverBrush}"/>
                        </Trigger>
                        <Trigger Property="IsDragging" Value="True">
                            <Setter TargetName="Grip" Property="Fill" Value="{DynamicResource PrimaryActiveBrush}"/>
                            <Setter TargetName="Grip" Property="Width" Value="20"/>
                            <Setter TargetName="Grip" Property="Height" Value="20"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Horizontal Slider Track -->
    <ControlTemplate x:Key="FathomSliderHorizontal" TargetType="{x:Type controls:FathomSlider}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*" MinHeight="20"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Label and Value -->
            <Grid Grid.Row="0" Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock x:Name="LabelText"
                           Text="{TemplateBinding Label}"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           FontSize="12"
                           FontWeight="Medium"
                           Visibility="Collapsed"/>
                <TextBlock x:Name="ValueText"
                           Grid.Column="1"
                           Text="{Binding Value, RelativeSource={RelativeSource TemplatedParent}, StringFormat={}{0:0}}"
                           Foreground="{DynamicResource TextPrimaryBrush}"
                           FontSize="12"
                           FontWeight="SemiBold"
                           Visibility="Collapsed"/>
            </Grid>

            <!-- Track -->
            <Border x:Name="TrackBackground"
                    Grid.Row="1"
                    Background="{DynamicResource BackgroundTertiaryBrush}"
                    CornerRadius="3"
                    Height="6"
                    VerticalAlignment="Center"/>

            <Track x:Name="PART_Track" Grid.Row="1">
                <Track.DecreaseRepeatButton>
                    <RepeatButton Command="{x:Static Slider.DecreaseLarge}">
                        <RepeatButton.Template>
                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                <Border Background="{DynamicResource PrimaryBrush}"
                                        CornerRadius="3"
                                        Height="6"/>
                            </ControlTemplate>
                        </RepeatButton.Template>
                    </RepeatButton>
                </Track.DecreaseRepeatButton>
                <Track.IncreaseRepeatButton>
                    <RepeatButton Command="{x:Static Slider.IncreaseLarge}">
                        <RepeatButton.Template>
                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                <Border Background="Transparent"/>
                            </ControlTemplate>
                        </RepeatButton.Template>
                    </RepeatButton>
                </Track.IncreaseRepeatButton>
                <Track.Thumb>
                    <Thumb Style="{StaticResource FathomSliderThumb}"/>
                </Track.Thumb>
            </Track>

            <!-- Min/Max Labels -->
            <Grid x:Name="MinMaxLabels" Grid.Row="2" Margin="0,8,0,0" Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="{TemplateBinding Minimum}"
                           Foreground="{DynamicResource TextTertiaryBrush}"
                           FontSize="11"/>
                <TextBlock Grid.Column="2"
                           Text="{TemplateBinding Maximum}"
                           Foreground="{DynamicResource TextTertiaryBrush}"
                           FontSize="11"/>
            </Grid>
        </Grid>
        <ControlTemplate.Triggers>
            <DataTrigger Binding="{Binding Label, RelativeSource={RelativeSource Self}, Converter={StaticResource StringNonEmptyConverter}}" Value="True">
                <Setter TargetName="LabelText" Property="Visibility" Value="Visible"/>
            </DataTrigger>
            <Trigger Property="ShowValue" Value="True">
                <Setter TargetName="ValueText" Property="Visibility" Value="Visible"/>
            </Trigger>
            <Trigger Property="ShowMinMax" Value="True">
                <Setter TargetName="MinMaxLabels" Property="Visibility" Value="Visible"/>
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.5"/>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <!-- Vertical Slider Track -->
    <ControlTemplate x:Key="FathomSliderVertical" TargetType="{x:Type controls:FathomSlider}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MinWidth="20"/>
            </Grid.ColumnDefinitions>

            <Border x:Name="TrackBackground"
                    Background="{DynamicResource BackgroundTertiaryBrush}"
                    CornerRadius="3"
                    Width="6"
                    HorizontalAlignment="Center"/>

            <Track x:Name="PART_Track">
                <Track.DecreaseRepeatButton>
                    <RepeatButton Command="{x:Static Slider.DecreaseLarge}">
                        <RepeatButton.Template>
                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                <Border Background="Transparent"/>
                            </ControlTemplate>
                        </RepeatButton.Template>
                    </RepeatButton>
                </Track.DecreaseRepeatButton>
                <Track.IncreaseRepeatButton>
                    <RepeatButton Command="{x:Static Slider.IncreaseLarge}">
                        <RepeatButton.Template>
                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                <Border Background="{DynamicResource PrimaryBrush}"
                                        CornerRadius="3"
                                        Width="6"/>
                            </ControlTemplate>
                        </RepeatButton.Template>
                    </RepeatButton>
                </Track.IncreaseRepeatButton>
                <Track.Thumb>
                    <Thumb Style="{StaticResource FathomSliderThumb}"/>
                </Track.Thumb>
            </Track>
        </Grid>
        <ControlTemplate.Triggers>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.5"/>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <!-- Main FathomSlider Style -->
    <Style TargetType="{x:Type controls:FathomSlider}">
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Focusable" Value="True"/>
        <Setter Property="Template" Value="{StaticResource FathomSliderHorizontal}"/>
        <Style.Triggers>
            <Trigger Property="Orientation" Value="Vertical">
                <Setter Property="Template" Value="{StaticResource FathomSliderVertical}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

</ResourceDictionary>
