<UserControl x:Class="FathomOS.Modules.ProjectManagement.Views.ProjectDetailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="880">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <TextBlock x:Name="HeaderText" Text="Project Details" FontSize="24" FontWeight="Light"/>
        </StackPanel>

        <!-- Content Tabs -->
        <TabControl Grid.Row="1">
            <!-- General Information -->
            <TabItem Header="General">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Row 0: Project Number / Project Name -->
                        <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,10,10">
                            <TextBlock Text="Project Number" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="ProjectNumberBox" Padding="8" IsReadOnly="True" Background="#F0F0F0"/>
                        </StackPanel>
                        <StackPanel Grid.Row="0" Grid.Column="1" Margin="10,0,0,10">
                            <TextBlock Text="Project Name *" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="ProjectNameBox" Padding="8"/>
                        </StackPanel>

                        <!-- Row 1: Client / Project Type -->
                        <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,10,10">
                            <TextBlock Text="Client *" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <ComboBox x:Name="ClientCombo" Padding="8" DisplayMemberPath="Name"/>
                        </StackPanel>
                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="10,0,0,10">
                            <TextBlock Text="Project Type" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <ComboBox x:Name="ProjectTypeCombo" Padding="8"/>
                        </StackPanel>

                        <!-- Row 2: Status / Phase -->
                        <StackPanel Grid.Row="2" Grid.Column="0" Margin="0,0,10,10">
                            <TextBlock Text="Status" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <ComboBox x:Name="StatusCombo" Padding="8"/>
                        </StackPanel>
                        <StackPanel Grid.Row="2" Grid.Column="1" Margin="10,0,0,10">
                            <TextBlock Text="Current Phase" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <ComboBox x:Name="PhaseCombo" Padding="8"/>
                        </StackPanel>

                        <!-- Row 3: Start Date / End Date -->
                        <StackPanel Grid.Row="3" Grid.Column="0" Margin="0,0,10,10">
                            <TextBlock Text="Start Date *" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <DatePicker x:Name="StartDatePicker" Padding="8"/>
                        </StackPanel>
                        <StackPanel Grid.Row="3" Grid.Column="1" Margin="10,0,0,10">
                            <TextBlock Text="End Date" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <DatePicker x:Name="EndDatePicker" Padding="8"/>
                        </StackPanel>

                        <!-- Row 4: Location / Region -->
                        <StackPanel Grid.Row="4" Grid.Column="0" Margin="0,0,10,10">
                            <TextBlock Text="Location" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="LocationBox" Padding="8"/>
                        </StackPanel>
                        <StackPanel Grid.Row="4" Grid.Column="1" Margin="10,0,0,10">
                            <TextBlock Text="Country/Region" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="RegionBox" Padding="8"/>
                        </StackPanel>

                        <!-- Row 5: Budget / Billing Type -->
                        <StackPanel Grid.Row="5" Grid.Column="0" Margin="0,0,10,10">
                            <TextBlock Text="Budget Amount" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="BudgetBox" Padding="8"/>
                        </StackPanel>
                        <StackPanel Grid.Row="5" Grid.Column="1" Margin="10,0,0,10">
                            <TextBlock Text="Billing Type" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <ComboBox x:Name="BillingTypeCombo" Padding="8"/>
                        </StackPanel>

                        <!-- Row 6: Description -->
                        <StackPanel Grid.Row="6" Grid.ColumnSpan="2" Margin="0,0,0,10">
                            <TextBlock Text="Description" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="DescriptionBox" Padding="8" Height="80"
                                     TextWrapping="Wrap" AcceptsReturn="True"
                                     VerticalScrollBarVisibility="Auto"/>
                        </StackPanel>

                        <!-- Row 7: Percent Complete -->
                        <StackPanel Grid.Row="7" Grid.Column="0" Margin="0,0,10,10">
                            <TextBlock Text="Percent Complete" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <Grid>
                                <ProgressBar x:Name="ProgressBar" Height="25" Minimum="0" Maximum="100"/>
                                <TextBlock x:Name="ProgressText" Text="0%" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </TabItem>

            <!-- Milestones -->
            <TabItem Header="Milestones">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Button x:Name="AddMilestoneButton" Grid.Row="0" Content="+ Add Milestone"
                            HorizontalAlignment="Right" Padding="15,5" Margin="0,0,0,10"/>

                    <DataGrid x:Name="MilestonesGrid" Grid.Row="1"
                              AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Milestone" Binding="{Binding Name}" Width="200"/>
                            <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="100"/>
                            <DataGridTextColumn Header="Planned Date" Binding="{Binding PlannedDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="110"/>
                            <DataGridTextColumn Header="Actual Date" Binding="{Binding ActualDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="110"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                            <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Deliverables -->
            <TabItem Header="Deliverables">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Button x:Name="AddDeliverableButton" Grid.Row="0" Content="+ Add Deliverable"
                            HorizontalAlignment="Right" Padding="15,5" Margin="0,0,0,10"/>

                    <DataGrid x:Name="DeliverablesGrid" Grid.Row="1"
                              AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Deliverable" Binding="{Binding Name}" Width="180"/>
                            <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="100"/>
                            <DataGridTextColumn Header="Format" Binding="{Binding Format}" Width="80"/>
                            <DataGridTextColumn Header="Due Date" Binding="{Binding DueDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                            <DataGridTextColumn Header="Submitted" Binding="{Binding SubmittedAt, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Resources -->
            <TabItem Header="Resources">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Vessels -->
                    <TextBlock Grid.Row="0" Text="Assigned Vessels" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <DataGrid x:Name="VesselsGrid" Grid.Row="1"
                              AutoGenerateColumns="False" IsReadOnly="True" MaxHeight="150">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Vessel" Binding="{Binding VesselName}" Width="200"/>
                            <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="100"/>
                            <DataGridTextColumn Header="Start Date" Binding="{Binding StartDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                            <DataGridTextColumn Header="End Date" Binding="{Binding EndDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- Equipment -->
                    <TextBlock Grid.Row="2" Text="Assigned Equipment" FontWeight="SemiBold" Margin="0,10,0,5"/>
                    <DataGrid x:Name="EquipmentGrid" Grid.Row="3"
                              AutoGenerateColumns="False" IsReadOnly="True" MaxHeight="150">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Equipment" Binding="{Binding EquipmentName}" Width="200"/>
                            <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="100"/>
                            <DataGridTextColumn Header="Start Date" Binding="{Binding StartDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                            <DataGridTextColumn Header="End Date" Binding="{Binding EndDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- Personnel -->
                    <TextBlock Grid.Row="4" Text="Assigned Personnel" FontWeight="SemiBold" Margin="0,10,0,5"/>
                    <DataGrid x:Name="PersonnelGrid" Grid.Row="5"
                              AutoGenerateColumns="False" IsReadOnly="True" MaxHeight="150">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Personnel" Binding="{Binding PersonnelName}" Width="200"/>
                            <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="120"/>
                            <DataGridTextColumn Header="Start Date" Binding="{Binding StartDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                            <DataGridTextColumn Header="End Date" Binding="{Binding EndDate, StringFormat='{}{0:dd MMM yyyy}'}" Width="100"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
        </TabControl>

        <!-- Footer Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="SaveButton" Content="Save" Padding="20,8" Margin="0,0,10,0" Click="SaveButton_Click"/>
            <Button x:Name="CancelButton" Content="Cancel" Padding="20,8" Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</UserControl>
